!function(){"use strict";var t,i={1759:function(t,i,e){var s=e(4002),n=e.n(s);class r{userOptions;container;containerWidth;containerHeight;containerViewportLeft;containerViewportTop;static instance;static instances=[];static instanceId=0;instanceId;defaultOptions={orientation:"horizontal",min:0,max:100,value:0,step:1,trackHeight:6,fill:!0,tooltip:!0,tooltipForm:"square",thumbSize:15,doublePoint:!1,label:!0,labelStyles:{height:20,marginTop:10,marginBottom:30},labelString:"Range-Slider",valueInLabel:!0,ticks:!0,maxTicks:20,tickBar:!0,tickFontSize:11,thumbColor:"#E65837FF",thumbShadow:!0,thumbAnimation:!0,trackColor:"#E5E5E5FF",fillColor:"#E65837FF",tooltipColor:"#E65837FF",rulerColor:"#C4C4C4FF"};constructor(t,i){r.instanceId++,this.instanceId=r.instanceId,this.userOptions=t,this.container=i,i?.setAttribute("data-id",`${this.instanceId}`)}static set(t,i){if(i?.instanceId)throw new Error("This instance is already set");return r.instance=new r(i,t),r.instances.push(r.instance),r.instance}static getInstance(){return r.instance}static getInstanceById(t){return r.instances[t-1]}getCurrentContainerProportions(){let t=this.userOptions?.max?this.userOptions.max:this.defaultOptions.max,i=this.userOptions?.min?this.userOptions.min:this.defaultOptions.min;return this.getCurrentOrientationValue()/(t-i)}getCurrentOrientationValue(){return this.userOptions?.orientation&&"horizontal"==this.userOptions?.orientation?this.getContainerSize().containerWidth:this.getPluginHeight()}getContainerSize(){return this.container&&(this.containerWidth=parseInt(getComputedStyle(this.container).width),this.containerHeight=parseInt(getComputedStyle(this.container).height)),{containerHeight:this.containerHeight,containerWidth:this.containerWidth}}getLabelHeight(){return this.defaultOptions.labelStyles?this.defaultOptions.labelStyles.height+this.defaultOptions.labelStyles.marginBottom+this.defaultOptions.labelStyles.marginTop:this.containerHeight}getPluginHeight(){return this.getContainerSize().containerHeight-this.getLabelHeight()}decorateUserOptions(t){return this.container?(t.containerWidth=this.getContainerSize().containerWidth,t.containerHeight=this.getContainerSize().containerHeight,t.pluginHeight=this.getPluginHeight(),t.instanceId=this.instanceId,t.containerProportion=this.getCurrentContainerProportions(),t):t}updateOptions(t){this.userOptions=Object.assign({},this.userOptions,t)}updateOptionsExact(t,i){t.userOptions=Object.assign({},t.userOptions,i)}static getConfigObjectById(t){return{pluginId:t,config:r.instances[t]}}getOptions(){return this.userOptions?Object.assign({},this.defaultOptions,this.decorateUserOptions(this.userOptions)):this.defaultOptions}}class o{options;max=0;min=0;maxTicks=0;tickStep=0;tickFontSize=0;static id=0;id=0;thumbSize=0;constructor(){o.id++,this.id=o.id,this.options=r.getInstance().getOptions(),this.thumbSize=this.options.thumbSize,this.tickFontSize=this.options.tickFontSize,this.maxTicks="horizontal"===this.options.orientation?this.options.maxTicks??10:this.options.maxTicks??20,this.init()}init(){this.max=this.options.max,this.min=this.options.min,this.thumbSize=this.options.thumbSize,this.tickStep=this.options.tickStep?this.options.tickStep:this.getCalculatedTickStep(),this.renderRuler()}setMaxTicks(t){this.maxTicks=t}updateOptions(t){this.options=r.getInstanceById(t).getOptions(),this.init(),this.tickFontSize=this.options.tickFontSize??11,this.maxTicks="horizontal"===this.options.orientation?this.options.maxTicks??10:this.options.maxTicks??20}setMax(t){this.max=t}getCalculatedTickStep(){let t=1;const i=this.removeTrailingZeros(this.max).num,e=this.max/i;if(this.isValidPartition(e,this.max)&&0==this.min)t=e;else{const i=this.getValidTickStepsArr(this.max);t=this.getFavorableTickStep(i,this.max)}return t}isFirstDigitPlain(t){return this.removeTrailingZeros(t).num/10<1}getValidMultipliers(t){const i=[],e=Math.sqrt(t);for(let s=1;s<=e;s++)t%s==0&&(i.push(s),s!==t/s&&1!==s&&i.push(t/s));return i.sort(((t,i)=>t-i))}isValidPartition(t,i){const e=i/t;return e<=this.maxTicks&&e>=6&&i%t==0}getFavorableTickStep(t,i){let e,s=!1;for(const i of t)if(i===this.min){s=!0,e=i;break}if(!s)for(const i of t)if(this.isFirstDigitPlain(i)){e=i;break}return void 0===e&&(e=t.find((t=>i/t==10))),e??t[Math.round(t.length/2)-1]}getValidTickStepsArr(t){let i=[];const e=this.getValidMultipliers(t);for(const s of e){const e=1*s;this.isValidPartition(e,t)&&i.push(e)}return i=i.filter((t=>t>=this.min)),i}removeTrailingZeros(t){let i=0;if(0===t)return{num:0,grade:0};for(;t%10==0&&0!==t;)i++,t/=10;return{num:t,grade:i}}validateIfTickStepMismatch(t){let i,e;return t>this.min&&t-this.tickStep<this.min?(e=this.tickStep-this.min,i=e):t<this.max&&t+this.tickStep>this.max&&(e=t+this.tickStep-this.max,i=this.tickStep-e),i??this.tickStep}renderRuler(){let t=document.createElement("div");t.setAttribute("class",`range-slider__ruler range-slider__ruler--${this.options.orientation} `);let i,e,s=this.options.thumbSize/2;"horizontal"===this.options.orientation?(t.style.width="100%",t.style.paddingLeft=`${s}px`,t.style.paddingRight=`${s}px`):(t.style.height="100%",t.style.paddingTop=`${s}px`,t.style.paddingBottom=`${s}px`);let n=document.createElement("div");if(n.setAttribute("class","range-slider__ruler-ticks"),this.options.reversedOrder){i=this.options.max;let t=this.options.min;for(;i>=t;){let t=this.renderEachTick(i);n.appendChild(t),i-=this.validateIfTickStepMismatch(i)}}else for(i=this.options.min,e=this.options.max;i<=e;){let t=this.renderEachTick(i);n.appendChild(t),i+=this.validateIfTickStepMismatch(i)}return t.appendChild(n),t}getRulerProportion(){return"horizontal"===this.options.orientation?this.options.containerWidth/(this.max-this.min):this.options.pluginHeight/(this.max-this.min)}getEachTickPercentPos(t){return this.getEachTickPixelPos(t)/((this.max-this.min)*this.getRulerProportion())*100}getEachTickPixelPos(t){const i=this.getRulerProportion();return t*i-this.min*i}setEachTickStyle(t,i){i.style.position="absolute",this.options.reversedOrder?"horizontal"==this.options.orientation?i.style.right=`${this.getEachTickPercentPos(t)}%`:i.style.bottom=`${this.getEachTickPercentPos(t)}%`:"horizontal"==this.options.orientation?i.style.left=`${this.getEachTickPercentPos(t)}%`:i.style.top=`${this.getEachTickPercentPos(t)}%`}renderEachTick(t){let i=document.createElement("div");i.setAttribute("class",`range-slider__tick range-slider__tick--${this.options.orientation}`),this.setEachTickStyle(t,i);let e=document.createElement("div");e.setAttribute("class",`range-slider__tick-bar range-slider__tick-bar--${this.options.orientation}`);let s=document.createElement("div");return s.setAttribute("class",`range-slider__tick-number range-slider__tick-number--${this.options.orientation}`),s.style.fontSize=`${this.tickFontSize}px`,this.options.tickBar&&i.appendChild(e),i.appendChild(s),s.innerHTML=t.toString(),i.style.setProperty("--tick-color",`${this.options.rulerColor}`),i}}class a{$element;$track;options;ruler;constructor(t){this.options=r.getInstance().getOptions(),this.$element=t,this.$track=document.createElement("div"),this.init()}init(){!this.ruler&&this.options.ticks?this.ruler=new o:this.ruler.updateOptions(this.options.instanceId);let t=`range-slider__track--${this.options.orientation}`;this.$track.setAttribute("class",`range-slider__track ${t}`)}updateOptions(t){this.options=r.getInstanceById(t).getOptions(),this.init()}getTrackElement(){return this.$track}render(t,i,e){this.options.min,this.$element.appendChild(this.$track);const s=this.options.labelStyles,n=s.height+s.marginBottom+s.marginTop;"horizontal"===this.options.orientation?(this.$track.style.width=`${t}px`,this.$track.style.height=`${this.options.trackHeight}px`):(this.$track.style.width=`${this.options.trackHeight}px`,this.$track.style.height=this.options.containerHeight-n+"px"),this.$track.style.setProperty("--track-color",`${this.options.trackColor}`),this.options.trackBorder?this.$track.style.setProperty("border",`1px solid ${this.options.trackBorderColor}`):this.$track.style.setProperty("border","none"),this.options.ticks&&this.ruler?(this.$track.innerHTML="",this.$track.appendChild(this.ruler.renderRuler())):this.$track.innerHTML=""}addPositionChangeListener(t){this.$element.addEventListener("click",(i=>{t(i)}))}getRuler(){return this.ruler}}class h{$thumb;$parent;$tooltip;static id=1;id;static idBuffer=[];dragging=!1;isActive=!1;options;constructor(t){this.options=r.getInstance().getOptions(),this.options.doublePoint?((0==h.idBuffer.length||h.id>2)&&(h.id=1),h.idBuffer.push(h.id)):(h.id=1,h.idBuffer=[]),this.id=h.id,this.$parent=t,this.$thumb=document.createElement("div"),this.init(),h.id++}init(){const t=this.isActive?" dragging":"";this.$thumb.setAttribute("class",`range-slider__thumb range-slider__thumb--${this.options.orientation} thumb-${this.id}${t}`),this.$thumb.dataset.id=this.id.toString(),this.$thumb.dataset.value="0",this.$parent.innerHTML="",this.$parent.appendChild(this.$thumb),this.$thumb.innerHTML="",this.options.tooltip?(this.$tooltip=this.getTooltip(),this.$thumb.appendChild(this.$tooltip),this.applyTooltipStyle()):this.$thumb.innerHTML=""}updateOptions(t){this.options=r.getInstanceById(t).getOptions(),this.init()}getTooltip(){const t=document.createElement("div");let i=`tooltip-${this.options.tooltipForm}`??0;return t.setAttribute("class",`range-slider__tooltip range-slider__tooltip--${this.options.orientation} tooltip-${this.id} ${i}`),t}applyTooltipStyle(){this.$tooltip&&this.$tooltip.style.setProperty("--tooltip-color",this.options.tooltipColor)}render(t,i,e){this.options.thumbAnimation?this.applyThumbAnimatingStyles(this.$thumb):this.thumbAnimationOff(this.$thumb),this.applyThumbStyles(this.$thumb);const s=()=>{if(Array.isArray(t)&&Array.isArray(i)){const t=this.id-1;this.options.tooltip&&(this.$tooltip.innerHTML=e?`${e[t]}`:`${i[t]}`)}else this.options.tooltip&&(this.$tooltip.innerHTML=e?`${e}`:`${i}`)};this.options.thumbAnimation?requestAnimationFrame((()=>{this.setOrientationPos(t),s()})):(this.setOrientationPos(t),s())}applyThumbAnimatingStyles(t){t.style.transition="all 0.4s"}thumbAnimationOff(t){t.style.transition="none"}applyThumbStyles(t){t.style.width=`${this.options.thumbSize}px`,t.style.height=`${this.options.thumbSize}px`;const i=this.options.thumbSize,e=this.options.trackHeight;"horizontal"===this.options.orientation?t.style.top=`-${i/2-e/2}px`:t.style.left=`-${i/2-e/2}px`,t.style.setProperty("--thumb-color",`${this.options.thumbColor}`),this.options.thumbBorder?t.style.setProperty("--thumb-border",`${this.options.thumbBorderStyle}`):t.style.setProperty("--thumb-border","none"),this.options.thumbShadow?(this.$thumb.style.setProperty("--thumb-shadow","block"),this.$thumb.style.setProperty("--thumb-shadow-color",this.options.thumbShadowColor||this.options.thumbColor)):this.$thumb.style.setProperty("--thumb-shadow","none")}setOrientationPos(t){const i=this.id-1;"horizontal"===this.options.orientation?Array.isArray(t)?this.$thumb.style.left=`${t[i]}px`:this.$thumb.style.left=`${t}px`:Array.isArray(t)?this.$thumb.style.top=`${t[i]}px`:this.$thumb.style.top=`${t}px`}getThumbViewId(){return this.id}addValueChangeListener(t){this.$thumb.addEventListener("click",(()=>{}))}addStartDragListener(t){this.$thumb.addEventListener("mousedown",(i=>{t(i)}))}getThumbCurrentPosition(){return"horizontal"===this.options.orientation?parseFloat(this.$thumb.style.left):parseFloat(this.$thumb.style.top)}getThumbElement(){return this.$thumb}getTooltipElement(){return this.$tooltip}}class l{$fill;$parent;options;constructor(t){this.options=r.getInstance().getOptions(),this.$parent=t,this.init()}init(){this.$fill=document.createElement("div"),this.$fill.setAttribute("class",`range-slider__fill range-slider__fill--${this.options.orientation}`)}updateOptions(t){this.options=r.getInstanceById(t).getOptions(),this.$fill&&this.init()}render(t,i){if(this.options.fill&&this.$fill){this.$parent.appendChild(this.$fill),this.options.thumbAnimation?this.applyFillAnimatingStyle(this.$fill):this.fillAnimationOff(this.$fill);const e=()=>{"horizontal"===this.options.orientation?this.renderHorizontal(t,i):this.renderVertical(t,i),this.$fill.style.setProperty("--fill-color",`${this.options.fillColor}`)};this.options.thumbAnimation?requestAnimationFrame((()=>{e()})):e()}}renderHorizontal(t,i){this.$fill.style.marginTop="0",Array.isArray(t)?(this.$fill.style.marginLeft=`${t[0]}px`,this.$fill.style.width=`${i}px`,this.$fill.style.height=`${this.options.trackHeight}px`):this.options.reversedOrder?(this.$fill.style.marginLeft=`${t}px`,this.$fill.style.width=`${i}px`,this.$fill.style.height=`${this.options.trackHeight}px`):(this.$fill.style.marginLeft="0",this.$fill.style.width=`${i}px`,this.$fill.style.height=`${this.options.trackHeight}px`)}renderVertical(t,i){Array.isArray(t)?(this.$fill.style.marginLeft="0",this.$fill.style.marginTop=`${t[0]}px`,this.$fill.style.height=`${i}px`,this.$fill.style.width=`${this.options.trackHeight}px`):this.options.reversedOrder?(this.$fill.style.marginTop=`${t}px`,this.$fill.style.marginLeft="0",this.$fill.style.height=`${i}px`,this.$fill.style.width=`${this.options.trackHeight}px`):(this.$fill.style.marginLeft="0",this.$fill.style.marginTop="0",this.$fill.style.height=`${i}px`,this.$fill.style.width=`${this.options.trackHeight}px`)}applyFillAnimatingStyle(t){t.style.transition="all 0.4s"}fillAnimationOff(t){t.style.transition="none"}getFillElement(){return this.$fill}}class u{$container;$pluginElement;$trackView;$label;$title;$thumbView;$trackElement;$fillView;options;constructor(t){this.options=r.getInstance().getOptions(),this.$container=t,this.$pluginElement=document.createElement("div"),this.$label=document.createElement("div"),this.$title=document.createElement("h1"),this.$trackView=new a(this.$pluginElement),this.$thumbView=this.getThumbViews(),this.$fillView=new l(this.$trackView.getTrackElement()),this.init()}init(){const t=`range-slider--${this.options.orientation}`;this.$pluginElement.setAttribute("class",`range-slider ${t}`),this.$label.setAttribute("class","range-slider__label")}updateOptions(t){this.options=r.getInstanceById(t).getOptions(),this.init()}getThumbViews(){if(this.options.doublePoint){const t=[];for(let i=1;i<=2;i++)t.push(new h(this.$pluginElement));return t}return new h(this.$pluginElement)}renderLabel(t){const i=this.options.labelString?this.options.labelString:"";if(this.options.label&&i){const e=this.options.valueInLabel?`${i} -- ${t}`:i;this.$label.textContent=e;const s=this.options.labelStyles;this.applyLabelStyles(s),this.$container.appendChild(this.$label)}}applyLabelStyles(t){this.$label.style.height=`${t.height}px`,this.$label.style.marginTop=`${t.marginTop}px`,this.$label.style.marginBottom=`${t.marginBottom}px`}render(t){this.renderLabel(t),this.$container.appendChild(this.$pluginElement),this.$pluginElement.appendChild(this.$trackView.getTrackElement()),this.renderThumbView()}renderThumbView(){this.$thumbView instanceof h?this.$trackView.getTrackElement().appendChild(this.$thumbView.getThumbElement()):Array.isArray(this.$thumbView)&&this.$thumbView.forEach((t=>this.$trackView.getTrackElement().appendChild(t.getThumbElement())))}getTrackView(){return this.$trackView}getThumbView(){return this.$thumbView,this.$thumbView}getFillView(){return this.$fillView}addValueChangeListener(t){this.$pluginElement.addEventListener("click",(()=>{t()}))}getContainerWidth(){return parseInt(getComputedStyle(this.$container).width)}}class d{value=0;observers=[];options;constructor(){this.options=r.getInstance().getOptions(),this.init()}init(){this.value=this.options.value,this.setValue(this.value)}updateOptions(t){this.options=r.getInstanceById(t).getOptions(),this.init()}setValue(t){this.value=t,this.notifyObservers()}getValue(){return this.value}addObserver(t){this.observers.push(t)}removeObserver(t){this.observers=this.observers.filter((i=>i!==t))}notifyObservers(){this.observers.forEach((t=>{t.update(this.value)}))}}class c{trackPresenter;thumbPresenter;fillPresenter;constructor(t,i,e){this.trackPresenter=t,this.thumbPresenter=i,this.fillPresenter=e}getThumbPresenter(){return this.thumbPresenter}notifyTrackClick(t){this.thumbPresenter.onTrackClick(t)}notifyThumbPositionChange(t){this.fillPresenter.onThumbPositionChange(t)}notifyFillPosition(t){this.fillPresenter.updateValue(t)}getStartPointFromTrack(){return this.trackPresenter.getTrackStartPoint()}}class p{model;view;trackPresenter;thumbPresenter;fillPresenter;mediator;options;constructor(t,i,e,s,n){this.model=t,this.view=i,this.trackPresenter=e,this.thumbPresenter=s,this.fillPresenter=n,this.model=t,this.view=i,this.trackPresenter=e,this.thumbPresenter=s,this.fillPresenter=n,this.mediator=new c(this.trackPresenter,this.thumbPresenter,this.fillPresenter),this.options=r.getInstance().getOptions(),this.init()}updateOptions(t){this.options=r.getInstanceById(t).getOptions(),this.init()}init(){this.model.addObserver(this),this.thumbPresenter.addObserver(this),this.thumbPresenter.setMediator(this.mediator),this.trackPresenter.setMediator(this.mediator),this.fillPresenter.setMediator(this.mediator),this.updateView();const t=this.thumbPresenter.getCurrentFillPosition();this.fillPresenter.updateValue(t),this.thumbPresenter.updateView()}getMediator(){return this.mediator}update(t){Array.isArray(t)&&t[0]>t[1]&&(t=t.reverse()),this.view.render(t)}updateValue(t){this.model.setValue(t)}updateView(){const t=this.model.getValue();this.view.render(t)}}class g{trackModel;trackView;mediator;options;ruler;tickStep;$trackElement;constructor(t,i){this.trackModel=t,this.trackView=i,this.options=r.getInstance().getOptions(),this.trackModel=t,this.trackView=i,this.init()}updateOptions(t){this.options=r.getInstanceById(t).getOptions(),this.init()}init(){this.$trackElement=this.trackView.getTrackElement(),this.tickStep=this.options.tickStep?this.options.tickStep:this.trackView.getRuler().getCalculatedTickStep(),this.trackModel.addObserver(this),this.trackView.addPositionChangeListener(this.trackClickHandler.bind(this)),this.updateView()}update(t){this.updateView()}updateView(){this.trackView.render(this.trackModel.getWidth(),this.trackModel.getHeight(),this.tickStep)}trackClickHandler(t){if(t instanceof MouseEvent){const i="horizontal"===this.options.orientation?this.$trackElement.getBoundingClientRect().left:this.$trackElement.getBoundingClientRect().top;let e="horizontal"===this.options.orientation?t.clientX-i+this.options.thumbSize/2:t.clientY-i+this.options.thumbSize/2;this.mediator?.notifyTrackClick(e)}}setMediator(t){t&&(this.mediator=t)}getTrackStartPoint(){return{left:this.$trackElement.getBoundingClientRect().left,top:this.$trackElement.getBoundingClientRect().top}}}class m{width;height;observers=[];options;constructor(){this.options=r.getInstance().getOptions(),this.init()}init(){"horizontal"===this.options.orientation?(this.height=this.options.trackHeight,this.width=this.options.containerWidth):(this.height=this.options.containerHeight,this.width=this.options.trackHeight)}updateOptions(t){this.options=r.getInstanceById(t).getOptions(),this.init()}getWidth(){return this.width}setWidth(t){this.width=t}getHeight(){return this.height}setHeight(t){this.height=t}addObserver(t){this.observers.push(t)}removeObserver(t){this.observers=this.observers.filter((i=>i!==t))}}class b{position=0;observers=[];dragging=!1;thumbSize=0;min=0;max=0;value;containerWidth=0;containerHeight=0;step=0;options;containerOrientationValue=0;constructor(){this.options=r.getInstance().getOptions(),this.init()}init(){this.min=this.options.min,this.max=this.options.max,this.step=this.validateStep(this.options.step),this.thumbSize=this.options.thumbSize,this.containerWidth=this.getContainerWidth()-this.thumbSize,this.containerHeight=this.getContainerHeight()-this.thumbSize,this.value=this.options.value?this.options.value:this.min,this.containerOrientationValue=this.setContainerOrientationValue(),this.position=this.setInitialPosition().pos}validateAscendingArr(t){return Array.isArray(t)&&t[0]>t[1]?t.reverse():t}mergeWithPosition(t){const i=this.validateAscendingArr(t);return{val:this.options.reversedOrder?this.convertToValueReversed(t):this.convertToValue(t),pos:i}}mergeWithValue(t){return{val:t,pos:this.options.reversedOrder?this.convertToPositionReversed(t):this.convertToPosition(t)}}updateOptions(t){this.options=r.getInstanceById(t).getOptions(),this.init()}setContainerOrientationValue(){return"horizontal"===this.options.orientation?this.containerWidth:this.containerHeight}setInitialPosition(){return this.mergeWithValue(this.options.value)}getStep(){return this.step*this.getProportion()}getThumbSize(){return this.thumbSize}getMin(){return this.min}getMax(){return this.max}getPosition(){return this.position}setPosition(t){this.position=t,this.value=this.mergeWithPosition(t).val,this.notifyObservers()}setValue(t){this.value=t,this.position=this.mergeWithValue(t).pos,this.notifyObservers()}convertToValueReversed(t){const i=this.convertToValue(t);return Array.isArray(i)?i.map((t=>this.getMax()-t+this.min)):this.getMax()-i+this.min}convertToValue(t){return Array.isArray(t)?t.map((t=>Math.round(t/this.getProportion()+this.min))):0==t?t:Math.round(t/this.getProportion()+this.min)}convertToPosition(t){const i=this.getMax(),e=this.getMin();return Array.isArray(t)?t.map((t=>t/(i-e)*this.containerOrientationValue-e*this.getProportion())):0===t||t<e?e:t/(i-e)*this.containerOrientationValue-e*this.getProportion()}convertToPositionReversed(t){const i=this.convertToPosition(this.max),e=this.convertToPosition(t);let s;return s=Array.isArray(e)?e.map((t=>i-t)):i-e,s}getValue(){return this.value}enableDrag(){this.dragging=!0}get isDragging(){return this.dragging}disableDrag(){this.dragging=!1}addObserver(t){this.observers.push(t)}getObservers(){return this.observers}removeObserver(t){this.observers=this.observers.filter((i=>i!==t))}notifyObservers(){for(const t of this.observers)Array.isArray(this.value)?this.value.forEach((i=>t.update(i))):"number"==typeof this.value&&t.update(this.value)}getContainerWidth(){return this.options.containerWidth}getContainerHeight(){return this.options.pluginHeight}getProportion(){const t=this.getMax(),i=this.getMin();return this.containerOrientationValue/(t-i)}getValueString(t){let i="";if(this.options.stringValues){const e=this.options.stringValues;let s=e.length;const n=this.splitNum(this.max,s);if(Array.isArray(t)){const i=[];return t.forEach((t=>{let s=[0,...n];for(let n=0;n<=e.length;n++)if(t>=s[n]&&t<=s[n+1]){i.push(e[n]);break}})),i}{let s=[0,...n];for(let n=0;n<=e.length;n++)if(t>=s[n]&&t<=s[n+1]){i=e[n];break}return i}}}splitNum(t,i){let e=[],s=t/i;for(let t=0;t<=i-1;t++)e.push(s*(t+1));return e}validateStep(t){return t>this.max?t=this.max:t<this.min&&0==this.min&&(t=this.min),t}}class v{handlers=[];addEventListener(t){this.handlers.push(t)}dispatchEvent(t){this.handlers.forEach((i=>i(t)))}}class f{model;view;mediator;position;activeThumb;value;dragBound;stopDragBound;observers=[];options;step;isDoubleThumb;eventDispatcher;changeEvent;startPoint;constructor(t,i){this.options=r.getInstance().getOptions(),this.model=t,this.view=i,this.eventDispatcher=new v,this.changeEvent={},this.model.addObserver(this),this.addDragListeners(this),this.init()}updateOptions(t){this.options=r.getInstanceById(t).getOptions(),this.init()}init(){this.step=this.model.getStep(),this.position=this.model.getPosition(),this.value=this.model.getValue(),this.isDoubleThumb=this.isDouble,this.model.setPosition(this.position),this.updateView()}addDragListeners(t){this.view instanceof h?this.view.addStartDragListener(this.startDrag.bind(t)):Array.isArray(this.view)&&this.view.forEach((i=>{i.addStartDragListener(this.startDrag.bind(t))}))}getValue(){return this.model.getValue()}get isDouble(){return Array.isArray(this.view)}setMediator(t){t&&(this.mediator=t)}addObserver(t){this.observers.push(t)}notifyObservers(){for(const t of this.observers)t.update(this.model.getValue())}update(t){this.updateView()}updatePosition(t){this.model.setPosition(t)}setThumbDataValue(t){const i=this.model.getValue(),e=this.options.stringValues?this.model.getValueString(i):void 0;if(t instanceof h&&"number"==typeof i)t.getThumbElement().dataset.value=e||i.toString();else if(Array.isArray(t)&&Array.isArray(i))if(e)for(let i=0;i<=t.length-1;i++)t[i].getThumbElement().dataset.value=e[i];else for(let e=0;e<=t.length-1;e++)t[e].getThumbElement().dataset.value=i[e].toString()}updateView(){this.options.stringValues&&this.model.getValueString(this.model.getValue()),this.view instanceof h?this.view.render(this.model.getPosition(),this.model.getValue(),this.model.getValueString(this.model.getValue())):Array.isArray(this.view)&&this.view.forEach((t=>t.render(this.model.getPosition(),this.model.getValue(),this.model.getValueString(this.model.getValue())))),this.setThumbDataValue(this.view)}getCurrentPosition(){return this.position}getCurrentFillPosition(){let t=this.getCurrentPosition();return Array.isArray(t)?[t[0],t[1]]:t}getTargetThumb(t){let i;t.preventDefault();let e=t.target;return i=e.classList.contains("range-slider__tooltip")?e.closest(".range-slider__thumb"):e,i}removeDraggingThumbClass(){const t=this.getThumbs();Array.isArray(t)?t.forEach((t=>{t.classList.remove("dragging")})):t.classList.remove("dragging")}setDraggingThumbClass(t){t.classList.add("dragging")}startDrag(t){this.activeThumb=this.getTargetThumb(t),this.setActiveThumb(this.activeThumb),this.model.enableDrag(),this.dragBound=this.drag.bind(this),this.stopDragBound=this.stopDrag.bind(this),document.addEventListener("mousemove",this.dragBound),document.addEventListener("touchmove",this.dragBound),document.addEventListener("mouseup",this.stopDragBound),document.addEventListener("touchend",this.stopDragBound)}getThumbs(){return Array.isArray(this.view)?this.view.map((t=>t.getThumbElement())):this.view.getThumbElement()}setActiveThumb(t){Array.isArray(this.view)?(this.view.map((t=>t.getThumbElement())).forEach((t=>t.classList.remove("active"))),t.classList.add("active"),this.view.forEach((i=>{i.getThumbElement()===t?i.isActive=!0:i.isActive=!1}))):(t.classList.add("active"),this.view.isActive=!0)}getStartPointFromMediator(){const t=this.mediator?.getStartPointFromTrack();return"horizontal"===this.options.orientation?t.left:t.top}drag(t){const i=this.getTargetThumb(t);this.setDraggingThumbClass(i);const e=this.getStartPointFromMediator();let s;t.preventDefault(),s="horizontal"===this.options.orientation?t instanceof MouseEvent?t.clientX:t.touches[0].clientX:t instanceof MouseEvent?t.clientY:t.touches[0].clientY;let n=s-this.model.getThumbSize()/2-e;if(n=this.setStep(n),n=this.validateMinMax(n),Array.isArray(this.view)&&this.options.doublePoint){let t=this.setDoubleThumbPosition(n,this.view);this.updatePosition(t);let i=t[1];t=[t[0],i],this.mediator?.notifyFillPosition(t)}else this.updatePosition(n),this.mediator?.notifyFillPosition(n);this.notifyObservers()}externalSetValue(t){Array.isArray(t)&&this.options.reversedOrder&&(t=t.reverse()),this.model.setValue(t),this.mediator?.notifyFillPosition(this.model.getPosition()),this.notifyObservers()}setStep(t){if(this.model.getStep()){let i=this.model.getStep();return i=this.validateIfStepMismatch(t),Math.round(t/i)*i}return t}setDoubleThumbPosition(t,i){let e,s=[],n=this.model.getStep();return this.model.getMin(),e=i.map((t=>t.getThumbCurrentPosition())),i[0].isActive&&t>=e[1]-n?t=e[1]-n:i[1].isActive&&t<=e[0]+n&&(t=e[0]+n),s=i[0].isActive?[t,e[1]]:[e[0],t],s}ExternalAddOnChangeListener(t){this.eventDispatcher.addEventListener((i=>{t()}))}stopDrag(){this.model.disableDrag(),this.removeDraggingThumbClass(),document.removeEventListener("mousemove",this.dragBound),document.removeEventListener("touchmove",this.dragBound),document.removeEventListener("mouseup",this.stopDragBound),document.removeEventListener("touchend",this.stopDragBound),this.eventDispatcher.dispatchEvent(this.changeEvent)}countContainerMax(){return"horizontal"===this.options.orientation?this.model.getContainerWidth()-this.model.getThumbSize():this.model.getContainerHeight()-this.model.getThumbSize()}validateMinMax(t){const i=this.countContainerMax();return this.model.getMin(),t<0?t=0:t>i&&(t=i),t}validateIfStepMismatch(t){const i=this.countContainerMax();return t>=i&&i%this.step!=0?i%this.step:this.step}onTrackClick(t){let i;t-=this.model.getThumbSize(),t=this.validateMinMax(t);let e=0;if(Array.isArray(this.model.getPosition())){let s=this.model.getPosition();e=s[1]-s[0],i=t-s[0]<e/2?[this.setStep(t),s[1]]:t-s[0]>e/2?[s[0],this.setStep(t)]:[this.setStep(t),s[1]]}else i=this.setStep(t);this.updatePosition(i),this.mediator?.notifyFillPosition(i),this.notifyObservers(),this.eventDispatcher.dispatchEvent(this.changeEvent)}setTestActiveThumb(t,i){Array.isArray(i)&&(i.forEach((i=>{i.getThumbElement()==t&&(i.isActive=!0)})),this.activeThumb=t)}}class y{fillPosition=0;fillLength=0;thumbSize=0;options;observers=[];constructor(){this.options=r.getInstance().getOptions(),this.init()}init(){this.thumbSize=this.options.thumbSize,this.fillPosition=this.convertToFillPosition(this.options.value),this.fillLength=this.calculateFillLength(this.fillPosition)}updateOptions(t){this.options=r.getInstanceById(t).getOptions(),this.init()}calculateFillLength(t){if(Array.isArray(t))return t[1]-t[0]+this.thumbSize;{const i="horizontal"===this.options.orientation,e=this.options.reversedOrder,s=i?this.options.containerWidth:this.options.pluginHeight;return i&&!e?t+this.thumbSize:i&&e||i||e?s-t:t+this.thumbSize}}getFillWidth(){return this.calculateFillLength(this.fillPosition)}getFillPosition(){return this.fillPosition}setFillPosition(t){this.fillPosition=t,this.notifyObservers()}addObserver(t){this.observers.push(t)}removeObserver(t){this.observers=this.observers.filter((i=>i!==t))}notifyObservers(){for(let t of this.observers)t.update(this.getFillPosition())}convertToFillPosition(t){const i=this.options.max,e=this.options.min,s="horizontal"===this.options.orientation?this.options.containerWidth:this.options.pluginHeight;return Array.isArray(t)?t.map((t=>(t-e)/(i-e)*s)):(t-e)/(i-e)*s}}class ${model;view;mediator;constructor(t,i){this.model=t,this.view=i,this.init()}init(){this.model.addObserver(this)}updateOptions(){this.init()}update(t){this.view.render(t,this.model.getFillWidth())}updateValue(t){this.model.setFillPosition(t)}setMediator(t){t&&(this.mediator=t)}onThumbPositionChange(t){this.updateValue(t)}}n().fn.rangeSlider=function(t){let i=this;return this.each((function(){const e=this,s=r.set(e,t).getOptions();i.id=s.instanceId,i.config=r.getInstanceById(i.id);const o=s.instanceId,a=new u(e),h=new d,l=a.getTrackView(),c=new m,v=new g(c,l),k=a.getThumbView(),S=new b,P=new f(S,k),T=a.getFillView(),O=new y,C=new $(O,T),w=new p(h,a,v,P,C);n()(e).data("rangeSliderInstances",{rangeSliderPresenter:w,rangeSliderView:a,rangeSliderModel:h,trackView:l,trackModel:c,trackPresenter:v,thumbView:k,thumbModel:S,thumbPresenter:P,fillView:T,fillModel:O,fillPresenter:C}),i.setValue=function(t){return P.externalSetValue(t),i},i.getValue=function(){return P.getValue()},i.updateOptions=function(t){return i.config.updateOptionsExact(i.config,t),console.log(i.config.getOptions()),function(t,i){const e=n()(t).data("rangeSliderInstances");e&&(e.trackModel.updateOptions(i),e.trackView.updateOptions(i),e.trackPresenter.updateOptions(i),e.thumbModel.updateOptions(i),Array.isArray(e.thumbView)?e.thumbView.forEach((t=>t.updateOptions(i))):e.thumbView.updateOptions(i),e.thumbPresenter.updateOptions(i),e.fillModel.updateOptions(i),e.fillView.updateOptions(i),e.fillPresenter.updateOptions(),e.rangeSliderModel.updateOptions(i),e.rangeSliderView.updateOptions(i),e.rangeSliderPresenter.updateOptions(i))}(e,o),i},i.getOptions=function(){return r.getInstance().getOptions()},i.onChange=function(t){P.ExternalAddOnChangeListener(t)},i.getContainer=function(){return e},i.getPluginConfig=function(){return r.getConfigObjectById(o)},i.getContainerId=function(){return s.instanceId}})),i};class k{dashboard;dashboardInner;rangeSliderControls;title;rangeSliderForm;currentPlugin;currentPluginId;pluginInstances;constructor(t,i){this.dashboard=t,this.pluginInstances=i,this.currentPluginId=1,this.currentPlugin=this.pluginInstances[this.currentPluginId-1],this.init()}init(){this.dashboardInner=document.createElement("div"),this.dashboardInner.setAttribute("class","dashboard__inner"),this.rangeSliderControls=document.createElement("div"),this.rangeSliderControls.setAttribute("class","range-slider-controls controls-container-1"),this.title=document.createElement("div"),this.title.setAttribute("class","range-slider-controls__title"),this.rangeSliderForm=document.createElement("form"),this.rangeSliderForm.setAttribute("class","range-slider-controls__form"),this.updateTitle(),this.renderForm(),this.attachFormToDashboard(),this.onFormSubmit()}update(){this.updateTitle(),this.renderForm()}updateTitle(){this.title.innerHTML=` Setting plugin instance - ${this.currentPluginId}`}destroyForm(){""!=this.rangeSliderForm.innerHTML&&(this.rangeSliderForm.innerHTML="")}renderForm(){this.destroyForm();const t=this.getStringSettableOptions();for(let[i,e]of Object.entries(t)){let t,s,n=this.currentPlugin.config.getOptions();if(s=i in n?n[i]:"","boolean"==e)t=`\n        <div class="range-slider-controls__control">\n          <label for="${i}">${i}</label>\n          <input type="checkbox" class="range-slider-controls__input" name="${i}" data-type="${e}" ${"boolean"==e&&1==s?"checked":""}>\n          `;else if("orientation"==i||"tooltipForm"==i){e=e.toString().split("|");let n="";for(let t of e)n+=`<option value="${t}" ${t==s?"selected":""}>${t}</option>`;t=`\n        <div class="range-slider-controls__control">\n            <label for="${i}">${i}</label>\n            <select name="${i}" data-type="${e}"\n         class="range-slider-controls__input">\n          ${n}\n        </div>`}else t=`\n        <div class="range-slider-controls__control">\n            <label for="${i}">${i}</label>\n            <input type="text" name="${i}" data-type="${e}"\n         class="range-slider-controls__input" value="${s}"></div>\n        `;this.rangeSliderForm.innerHTML+=t}this.rangeSliderForm.innerHTML+='\n    <div class="range-slider-controls__control"><button class="range-slider-controls__button"\n                value="set options">set options</div>'}attachFormToDashboard(){this.rangeSliderControls.appendChild(this.title),this.rangeSliderControls.appendChild(this.rangeSliderForm),this.dashboardInner.appendChild(this.rangeSliderControls),this.dashboard.appendChild(this.dashboardInner)}getStringSettableOptions(){return{orientation:"horizontal|vertical",doublePoint:"boolean",trackHeight:"number",trackBorder:"boolean",trackBorderColor:"string",max:"number",min:"number",thumbSize:"number",value:"number|number[]",ticks:"boolean",tickStep:"number",step:"number",tooltip:"boolean",label:"boolean",labelString:"string",valueInLabel:"boolean",stringValues:"string[]",reversedOrder:"boolean",thumbColor:"string",thumbShadow:"boolean",thumbShadowColor:"string",thumbBorder:"boolean",thumbBorderStyle:"string",thumbAnimation:"boolean",trackColor:"string",fillColor:"string",tooltipColor:"string",rulerColor:"string",tickFontSize:"number",tooltipForm:"square|round",fill:"boolean",tickBar:"boolean"}}setCurrentPluginId(t){this.currentPluginId=t,this.setDashboardDataValue(this.currentPluginId),this.currentPlugin=this.pluginInstances[this.currentPluginId-1]}getCurrentPluginId(){return this.currentPluginId}parseValueByType(t,i){let e;switch(i){case"string":e=t.toString();break;case"string[]":e=t.toString().split(",").map((t=>t.trim()));break;case"number|number[]":e=t.toString().match(/[.,]/)?t.toString().split(/[.,]/).map((t=>Number(t))):Number(t);break;case"number":e=Number(t);break;default:e=t}return e}parseForm(t){const i={};for(let e=0;e<t.elements.length;e++){const s=t.elements[e];if((s instanceof HTMLInputElement||s instanceof HTMLSelectElement)&&""!=s.value){const t=s.name;let e,n="checkbox"==s.type&&s instanceof HTMLInputElement?s.checked:s.value;e=this.parseValueByType(n,s.dataset.type),i[t]=e}}return i}onFormSubmit(){this.rangeSliderForm.addEventListener("submit",(t=>{t.preventDefault();let i={};new FormData(this.rangeSliderForm),i=this.parseForm(this.rangeSliderForm),this.currentPlugin.updateOptions(i)}))}setDashboardDataValue(t){this.dashboard.dataset.value=t.toString()}getCurrentPlugin(){return this.dashboard.dataset.value?this.pluginInstances[this.currentPluginId-1]:this.pluginInstances[0]}}document.querySelectorAll(".range-slider-display").forEach((t=>{const i=t.querySelector(".burger"),e=t.querySelector(".range-slider-controls");i?.addEventListener("click",(()=>{e?.classList.toggle("enabled")}))})),window.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".dashboard");!function(){const t=document.querySelectorAll(".range-slider-display__modify-button");t.forEach((i=>{i.addEventListener("click",(i=>{const s=i.target;let n=s.classList.contains("range-slider-display__modify-button")?s:s.closest(".range-slider-display__modify-button");t.forEach((t=>{t.classList.remove("active")})),n.classList.add("active"),e.setCurrentPluginId(parseInt(n.dataset.value)),e.update()}))}))}();const i=function(){const t=[],i=n()(".container-1").rangeSlider({max:800,value:[100,250],min:50,step:20,doublePoint:!0,stringValues:["small","medium","large","giant"],orientation:"vertical",reversedOrder:!0});i.getValue(),i.onChange((()=>{console.log("работает!"),console.log(i.getValue())})),t.push(i);const e=n()(".container-2").rangeSlider({max:500,min:50,value:[100,250],doublePoint:!0,thumbSize:10,trackHeight:4,tooltipForm:"round"});t.push(e);const s=n()(".container-3").rangeSlider({max:1200,value:[320,950],tickStep:200,doublePoint:!0,thumbSize:15,trackHeight:6,tooltipColor:"#51B7A9FF",fillColor:"#51B7A9FF",thumbColor:"#51B7A9FF",tickBar:!1});t.push(s);const r=n()(".container-4").rangeSlider({max:1200,value:[320,950],tickStep:200,fill:!1,doublePoint:!0,thumbSize:20,thumbColor:"green",thumbBorder:!0,thumbBorderStyle:"3px solid white",trackHeight:5,tooltipColor:"green",trackColor:"linear-gradient(to right, lightgreen, darkgreen)",labelString:"Enjoy the slide...",valueInLabel:!1});t.push(r);const o=n()(".container-5").rangeSlider({max:1200,value:[320,950],tickStep:200,doublePoint:!0,thumbSize:16,trackHeight:6,trackColor:"transparent",trackBorder:!0,trackBorderColor:"#c7c7cf",thumbColor:"linear-gradient(180deg, #6FCF97 0%, #66D2EA 100%)",fillColor:"linear-gradient(180deg, #6FCF97 0%, #66D2EA 100%)",tickBar:!1,thumbBorder:!0,thumbBorderStyle:"2px solid white",tooltip:!1});t.push(o);const a=n()(".container-6").rangeSlider({max:1200,value:688,trackBorder:!0,doublePoint:!1,reversedOrder:!0,thumbSize:10,trackHeight:5,trackColor:"transparent",trackBorderColor:"#CCABDAFF",fillColor:"#CCABDAFF",tooltipColor:"#CCABDAFF",thumbColor:"#9E85A9FF",tickStep:200});t.push(a);const h=n()(".container-7").rangeSlider({max:1200,value:[322,950],tickStep:200,doublePoint:!0,thumbSize:15,trackHeight:6,orientation:"vertical",fillColor:"#FC887BFF",thumbColor:"#FC887BFF",tooltipColor:"#FC887BFF",tickBar:!1,tickFontSize:14});t.push(h);const l=n()(".container-8").rangeSlider({max:1200,value:[125,950],tickStep:200,doublePoint:!0,thumbSize:15,trackHeight:6,orientation:"vertical",tooltipForm:"round"});t.push(l);const u=n()(".container-9").rangeSlider({orientation:"vertical",tickStep:10});return t.push(u),t}(),e=new k(t,i)}))}},e={};function s(t){var n=e[t];if(void 0!==n)return n.exports;var r=e[t]={exports:{}};return i[t](r,r.exports,s),r.exports}s.m=i,t=[],s.O=function(i,e,n,r){if(!e){var o=1/0;for(u=0;u<t.length;u++){e=t[u][0],n=t[u][1],r=t[u][2];for(var a=!0,h=0;h<e.length;h++)(!1&r||o>=r)&&Object.keys(s.O).every((function(t){return s.O[t](e[h])}))?e.splice(h--,1):(a=!1,r<o&&(o=r));if(a){t.splice(u--,1);var l=n();void 0!==l&&(i=l)}}return i}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[e,n,r]},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,{a:i}),i},s.d=function(t,i){for(var e in i)s.o(i,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},function(){var t={826:0};s.O.j=function(i){return 0===t[i]};var i=function(i,e){var n,r,o=e[0],a=e[1],h=e[2],l=0;if(o.some((function(i){return 0!==t[i]}))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(h)var u=h(s)}for(i&&i(e);l<o.length;l++)r=o[l],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(u)},e=self.webpackChunkrange_slider=self.webpackChunkrange_slider||[];e.forEach(i.bind(null,0)),e.push=i.bind(null,e.push.bind(e))}();var n=s.O(void 0,[913],(function(){return s(1759)}));n=s.O(n)}();
//# sourceMappingURL=index.ca9c37e4784f7e103588.js.map